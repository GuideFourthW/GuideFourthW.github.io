<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ç«žçŒœMä¸²Nè®¡ç®—]]></title>
    <url>%2F2019%2F08%2F18%2F%E7%AB%9E%E7%8C%9CM%E4%B8%B2N%E8%AE%A1%E7%AE%97%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘çš„å·¥ä½œä¸­æ¶‰åŠåˆ°ç«žå½©ç½‘ç«™çš„æŠ•æ³¨é‡‘é¢å’Œç»„åˆè®¡ç®—ï¼Œè€—è´¹äº†ä¸€ç•ªæ—¶é—´è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åœ¨æ­¤åˆ†äº«ä¸€ä¸‹è‡ªå·±çš„çœ‹æ³• (æœ¬æ–‡é‡‡ç”¨çš„æ˜¯æ¾³å®¢çš„èµ›äº‹é€‰æ‹©æ”¯æŒå¤šç§çŽ©æ³•ï¼Œç«žå½©å®˜ç½‘å¹¶ä¸æ”¯æŒå¤šç§çŽ©æ³•é€‰æ‹©) è“è‰²åŒºåŸŸå·¦ä¾§æ˜¯èƒœå¹³è´ŸçŽ©æ³•ï¼Œå³ä¾§æ˜¯è®©çƒèƒœå¹³è´ŸçŽ©æ³•ã€‚è¶³çƒä¸€å…±æœ‰5ç§çŽ©æ³• ï¼Œç¯®çƒæœ‰4ç§çŽ©æ³•ï¼Œè®¡ç®—è§„åˆ™ç›¸åŒã€‚ åº•éƒ¨çº¢æ¡†ï¼Œå·¦ä¾§æ˜¯è¿‡å…³æ–¹å¼(å¯å åŠ ,æ— å†²çª)ï¼Œå³ä¾§æ˜¯è®¡ç®—çš„é‡‘é¢(æ³¨æ•° 2 å€æ•°)ï¼Œä»¥åŠæœ€é«˜å¥–é‡‘æ˜¾ç¤ºã€‚ è¿‡å…³æ–¹å¼ï¼šå°†måœºæ¯”èµ›ç»„æˆnæ³¨ã€‚ è¿‡å…³æ–¹å¼æœ‰ä¸¤ç§æƒ…å†µ â€‹ 1:mä¸²1(2ä¸²1,3ä¸²1,4ä¸²1,5ä¸²1ä»¥æ­¤ç±»æŽ¨ï¼Œæœ€å¤š8ä¸²1) â€‹ 2:mä¸²n(3ä¸²3,3ä¸²4,4ä¸²4,4ä¸²5,4ä¸²6,4ä¸²11 æœ€å¤š8ä¸²247) æ³¨æ„ åªæœ‰n=1 æˆ– n&gt;=m æœ¬æ–‡é‡‡ç”¨é€’å½’æ¥è®¡ç®—æŽ’åˆ—ç»„åˆï¼Œå¹¶æ ¹æ®ç«žå½©ç½‘è§„åˆ™è¿›è¡Œè¿‡æ»¤ã€‚mä¸²1ï¼šæ‰€æœ‰é€‰æ‹©ä¸­æ‰¾mä¸ªç»„æˆä¸€ä¸ªç»„åˆï¼Œmä¸²n å…ˆæ‰¾mä¸²1ï¼Œåœ¨æŠŠæŠŠæ¯ä¸ªç»„åˆéåŽ†è®¡ç®— è¯¥çŽ©æ³•æ‰€å¯¹åº”çš„ä¸²1ç»„åˆ è§„åˆ™ï¼šç»„åˆä¸­ä¸å…è®¸å‡ºçŽ°åŒåœºæ¯”èµ›å¤šé€‰ï¼Œä»¥åŠåŒç§çŽ©æ³•è¿›è¡Œçš„ç»„åˆä¸å…è®¸é‡å¤ ä¸å…è®¸å‡ºçŽ°åŒåœºæ¯”èµ›å¤šé€‰(æ¯”å¦‚å‡ºçŽ°12,123) ã€Œ â€‹ åŽ»æŽ‰æŽ’åˆ—ç»„åˆé‡Œç›¸åŒæ¯”èµ›çš„(æ ¹æ®æ¯”èµ›ç¼–å·æ ‡è®°) ã€ åŒç§çŽ©æ³•ä¸å…è®¸é‡å¤(é‡å¤ç»„åˆçš„äº§ç”ŸåŽŸå› ï¼šåŒ¹é…å‡ºä¸å«æŸä¸ªé€‰æ‹©çš„ç»„åˆ 15 19 59 ) ã€Œ â€‹ çŽ©æ³•é¦–é€‰çš„æŽ’åˆ—ç»„åˆä¸éœ€è¦åŽ»ï¼ŒçŽ©æ³•ä¸‹å…¶ä»–çš„æŽ’åˆ—ç»„åˆéœ€è¦å’ŒçŽ©æ³•é¦–é€‰çš„æŽ’åˆ—ç»„åˆåŽ»ï¼ˆå³æŽ’åˆ—ç»„åˆä¸­å¦‚å­˜åœ¨åŽ»é‡å¤æ ‡è®°ï¼Œæ ¹æ®é‡å¤çš„äº§ç”ŸåŽŸå›  å°†å®Œå…¨ä¸å«åŽ»é‡å¤æ ‡è®°çš„ç»„åˆåŽ»æŽ‰ï¼‰ ã€ ï¼ˆçŽ©æ³•æŒ‡ä¸€åœºæ¯”èµ›é‡Œçš„ä¸€ä¸ªçŽ©æ³•ï¼‰ ï¼ˆæ¯”èµ›ç¼–å·æ ‡è®°ï¼šä¸€åœºæ¯”èµ›ä¸‹çš„é€‰æ‹©éƒ½æ‰“ä¸Šæ¯”èµ›å”¯ä¸€æ ‡è¯†) ï¼ˆåŽ»é‡å¤æ ‡è®°ï¼šä¸æ˜¯çŽ©æ³•çš„é¦–é€‰æ‹©éƒ½ä½¿ç”¨*æ ‡è®°ï¼Œå› å…¶æŽ’åˆ—ç»„åˆå¿…ç„¶äº§ç”Ÿé‡å¤ï¼‰ ç¤ºä¾‹ï¼š *3spfA é¹¿å²›é¹¿è§’èƒœå¹³è´ŸçŽ©æ³•èƒœé€‰æ‹© 1spfA é¹¿å²›é¹¿è§’èƒœå¹³è´ŸçŽ©æ³•å¹³é€‰æ‹© æ¡ˆä¾‹ä»£ç  å°†æ•°æ®è¿‡æ»¤æˆéœ€è¦çš„æ ‡è®°æ ¼å¼ï¼Œæœ¬ä¾‹å‰ç«¯ä¼ è¾“çš„æ ¼å¼ä¸º 20190930001-3~spf^2.21(æ¯”èµ›åŽå°ç¼–å·-èƒœ~èƒœå¹³è´ŸçŽ©æ³•^èµ”çŽ‡) æ¯”èµ›ç¼–å·+èµ”çŽ‡ç”¨äºŽå¥–é‡‘è®¡ç®— Â·Â· 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235 public static void main(String[] args) &#123; String info = "20190930001-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930002-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4" + ".95|20190930003-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930004-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4" + ".95|20190930005-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930006-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4" + ".95|20190930007-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930008-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95";// String info = "20190930001-3~spf^2.21,403~rq^4.95,401~rq^4.95|20190930002-3~spf^2.21|20190930003-3~spf^2.21"; FootballTicketImpl footballTicketImpl = new FootballTicketImpl(); List&lt;String&gt; passTypes = new ArrayList&lt;&gt;();// passTypes.add("2_1");passTypes.add("3_1");passTypes.add("4_1");// passTypes.add("5_1");passTypes.add("6_1");// passTypes.add("2_1");passTypes.add("3_1");passTypes.add("4_1");// passTypes.add("5_1");passTypes.add("6_1"); passTypes.add("8_247"); Instant inst1 = Instant.now();// List&lt;LotOrderTicket&gt; ticketList = footballTicketImpl.ticketHandle(new OutTicketDTO(1231L, 23, 10059, 1, info,// passTypes));// System.out.println(ticketList.size());// for (LotOrderTicket temp:ticketList) &#123;// System.out.println(temp.toString());// &#125; // å¾—å‡ºæ€»æ³¨æ•° System.out.println(footballTicketImpl.getPourHandle(info, passTypes)); Instant inst2 = Instant.now(); System.out.println("ä»¥æ¯«ç§’è®¡çš„æ—¶é—´å·®ï¼š" + Duration.between(inst1, inst2).toMillis()); System.out.println("ä»¥ç§’è®¡çš„æ—¶é—´å·®ï¼š" + Duration.between(inst1, inst2).getSeconds()); &#125; /** * ã€ * * @param info ä¸‹æ³¨ä¿¡æ¯ * @param passTypes è¿‡å…³æ–¹å¼ * @return Mä¸²1æˆ–è€…Mä¸²Næœ‰å‡ ç§ç»„åˆï¼ˆå‡ æ³¨ï¼‰ */ @Override public int getPourHandle(String info, List&lt;String&gt; passTypes) &#123; List&lt;String&gt; result = new ArrayList&lt;&gt;(); for (String passType : passTypes) &#123; String[] mWithn = passType.split("_"); Integer m = Integer.parseInt(mWithn[0]); Integer n = Integer.parseInt(mWithn[1]); ArrayList&lt;String&gt; temp = matchTransform(info, m, null, 0); if (temp == null) &#123; return 0; &#125; String[] bet = temp.toArray(new String[temp.size()]); ArrayList&lt;String&gt; tmpArr = new ArrayList&lt;&gt;(); Map&lt;String, String&gt; checkGroups = new Hashtable&lt;&gt;(); ArrayList&lt;String&gt; groups = new ArrayList&lt;&gt;(); combine(0, m, bet, false, checkGroups, tmpArr, groups); ArrayList&lt;String&gt; processGroups = new ArrayList&lt;&gt;(); processGroups.addAll(groups); if (n &gt; 1) &#123; //è¿›å…¥Mä¸²N groups.clear(); passType = passType.replace("_", "ä¸²"); for (String match : processGroups) &#123; match = match.substring(1, match.length() - 1); String[] CalculateN = match.split(","); String[] a = splitFrom.get(passType); for (int i = 0; i &lt; a.length; i++) &#123; if (appearNumber(Arrays.toString(CalculateN), "\\*") == CalculateN.length) &#123;// ä¸éœ€è¦åŽ»é‡å¤ combine(0, Integer.valueOf(String.valueOf(a[i].charAt(0))), CalculateN, false, checkGroups, new ArrayList&lt;String&gt;(), groups); &#125; else &#123;// éœ€è¦åŽ»é‡å¤ combine(0, Integer.valueOf(String.valueOf(a[i].charAt(0))), CalculateN, true, checkGroups, new ArrayList&lt;String&gt;(), groups); &#125; i++; &#125; &#125; processGroups.clear(); processGroups.addAll(groups); &#125; result.addAll(processGroups); &#125; return result.size(); &#125; /** * é€’å½’è®¡ç®—æŽ’åˆ—ç»„åˆ * * @param index å•ç»„åˆä¸­å·²ç»ç´¯ç§¯çš„å…ƒç´  * @param k ä¸€ä¸ªç»„åˆéœ€è¦å‡ ä¸ªå…ƒç´ ç»„æˆ * @param arr æº * @param checkGroups ä¸å«é‡å¤çš„æŽ’åˆ—ç»„åˆåˆ—è¡¨(å…ˆåŽ»æŽ‰æ­¤æ ¡éªŒï¼Œå¦‚è¿è¡Œä¸€æ®µæ—¶é—´æ— å¦¨ åˆ™å½»åº•åŽ»é™¤å®ƒ) * @param tmpArr æœ¬æ¬¡ç»„æˆçš„æŽ’åˆ—ç»„åˆ * @param groups ä¸€ç§è¿‡å…³æ–¹å¼çš„ç»“æžœ */ public static void combine(int index, int k, String[] arr, boolean repeat, Map&lt;String, String&gt; checkGroups, ArrayList&lt;String&gt; tmpArr, ArrayList&lt;String&gt; groups) &#123; if (k == 1) &#123; for (int i = index; i &lt; arr.length; i++) &#123; tmpArr.add(arr[i]); String isAdd = "add"; if (repeat) &#123; // isAdd = toRepeat(arr, checkGroups, tmpArr, isAdd); &#125; else &#123; Map&lt;String, String&gt; map = new Hashtable&lt;&gt;(); String tmpStr = tmpArr.toString(); String[] tmpArray = tmpStr.substring(0, tmpStr.length() - 1).split(","); for (String temp : tmpArray) &#123; //æˆªå–å‡ºç»„åˆä¸­æœ€åŽä¸€ä¸ªçš„æ¯”èµ›ç¼–å·å”¯ä¸€æ ‡è¯†å­˜å…¥é›†åˆ String matchCode = String.valueOf(temp.charAt(temp.length() - 1)); //å¦‚å·²åŒ…å« åˆ™è¡¨ç¤ºæŽ’åˆ—ç»„åˆæ‹¥æœ‰ç›¸åŒæ¯”èµ› ä¸å…æ·»åŠ  if (map.get(matchCode) != null) &#123; isAdd = ""; break; &#125; //Valueæ— ç”¨ï¼Œåªç”¨Keyå’ŒHASHç‰¹æ€§ map.put(matchCode, matchCode); &#125; &#125; if (isAdd.equals("add")) &#123;// checkGroups.put(tmpArr.toString().replaceAll("\\*",""),tmpArr.toString().trim()); groups.add(tmpArr.toString()); &#125; for (Iterator it = tmpArr.iterator(); it.hasNext(); ) &#123; if (it.next().equals(arr[i])) it.remove(); &#125; &#125; &#125; else if (k &gt; 1) &#123; for (int i = index; i &lt;= arr.length - k; i++) &#123; tmpArr.add(arr[i]); combine(i + 1, k - 1, arr, repeat, checkGroups, tmpArr, groups); for (Iterator it = tmpArr.iterator(); it.hasNext(); ) &#123; if (it.next().equals(arr[i])) it.remove(); &#125; &#125; &#125; else &#123; return; &#125; &#125;/** * åŽ»é™¤é‡å¤ç»„åˆ(åŒç§çŽ©æ³•ä¸å…è®¸é‡å¤) * * @param arr é€‰æ‹©çš„å†…å®¹ * @param checkGroups ä¸å«é‡å¤çš„æŽ’åˆ—ç»„åˆåˆ—è¡¨(å…ˆåŽ»æŽ‰æ­¤æ ¡éªŒï¼Œå¦‚è¿è¡Œä¸€æ®µæ—¶é—´æ— å¦¨ åˆ™å½»åº•åŽ»é™¤å®ƒ) * @param tmpArr æœ¬æ¬¡ç»„æˆçš„æŽ’åˆ—ç»„åˆ * @param isAdd æ˜¯å¦èƒ½å¤Ÿæ·»åŠ  * @return */ public static String toRepeat(String[] arr, Map&lt;String, String&gt; checkGroups, ArrayList&lt;String&gt; tmpArr, String isAdd) &#123; String b = tmpArr.toString().replaceAll("\\*", ""); //åŽ»æŽ‰å®Œå…¨ä¸å«åŽ»é‡å¤æ ‡è®°çš„ç»„åˆ for (int j = 0; j &lt; arr.length; j++) &#123; if (arr[j].indexOf("*") == -1) &#123; if (!tmpArr.toString().contains(arr[j])) &#123;// if (checkGroups.get(b.trim())!=null)&#123; isAdd = ""; return isAdd;// &#125; &#125; &#125; &#125; return isAdd; &#125; /** * @param schemeNumber ä¸‹æ³¨ä¿¡æ¯ * @param m è¦æ±‚ç»„çš„æ¯”èµ›æ•° * @param matchNumber å®žä½“ç±»æ˜ å°„å‚ç…§ï¼ˆ0ï¼šåªè®¡ç®—æ³¨æ•°ï¼Œä¸éœ€è¦æ˜ å°„ã€‚1ï¼šä¼ ç¥¨ç»„åˆï¼Œéœ€è¦æ˜ å°„ï¼‰ * @param schemeNumber æœªå¤„ç†çš„ä¸‹æ³¨ä¿¡æ¯ * @param Type ï¼ˆè®¡ç®—æ³¨æ•°ï¼š0ï¼Œä¼ ç¥¨ç»„åˆï¼š1ï¼‰ * @return å¤„ç†åŽçš„ä¸‹æ³¨ä¿¡æ¯ */ public static ArrayList&lt;String&gt; matchTransform(String schemeNumber, Integer m, Map&lt;String, String&gt; matchNumber, Integer Type) &#123; ArrayList&lt;String&gt; matchTransform = new ArrayList(); String[] matchs = schemeNumber.split("\\|"); if (matchs.length &lt; m) &#123; //ä¸æ»¡è¶³ç»„Måœºæ¯”èµ›çš„è¦æ±‚ return null; &#125; for (int j = 0; j &lt; matchs.length; j++) &#123; String match = matchs[j]; String matchArray[] = match.split("-"); String matchHead = matchArray[0]; String temp = matchArray[1]; String[] matchPlayType = temp.split(","); for (int i = 0; i &lt; matchPlayType.length; i++) &#123; StringBuffer playMethod = new StringBuffer(); StringBuffer matchNumberValue = new StringBuffer(); String symbol = "-"; String[] temp2 = matchPlayType[i].split("~"); String[] temp3 = temp2[1].split("\\^"); String odds = temp3[1]; String playTypePart = temp3[0]; String playType = temp2[0] + playTypePart; int sum = appearNumber(matchTransform.toString(), playTypePart + letter[j]); if (sum == 0) &#123; playMethod.append("*"); &#125; playMethod.append(playType); playMethod.append(letter[j]); matchTransform.add(playMethod.toString()); if (Type == 1) &#123; //key = æ˜¯å¦åŒ…å«é‡å¤é€‰æ‹©,çŽ©æ³•ï¼Œæ¯”èµ›ç¼–å·å”¯ä¸€æ ‡è¯†,value = å¯¹é˜µä¿¡æ¯+çŽ©æ³•ä¸Žèµ”çŽ‡ matchNumberValue.append(matchHead).append(symbol).append(temp2[0]).append(symbol).append(odds); matchNumber.put(playMethod.toString(), matchNumberValue.toString()); &#125; &#125; &#125; return matchTransform; &#125; /** * èŽ·å–æŒ‡å®šå­—ç¬¦ä¸²å‡ºçŽ°çš„æ¬¡æ•° * * @param srcText æºå­—ç¬¦ä¸² * @param findText è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸² * @return */ public static int appearNumber(String srcText, String findText) &#123; int count = 0; Pattern p = Pattern.compile(findText); Matcher m = p.matcher(srcText); while (m.find()) &#123; count++; &#125; return count; &#125;]]></content>
      <categories>
        <category>Computers</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F21%2Findex%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE html&gt; var NexT = window.NexT || {}; var CONFIG = { root: â€˜/â€˜, scheme: â€˜Mistâ€™, version: â€˜7.1.2â€™, sidebar: {â€œpositionâ€:â€leftâ€,â€displayâ€:â€postâ€,â€offsetâ€:12,â€onmobileâ€:false,â€dimmerâ€:false}, back2top: true, back2top_sidebar: false, fancybox: false, fastclick: false, lazyload: false, tabs: true, motion: {â€œenableâ€:true,â€asyncâ€:false,â€transitionâ€:{â€œpost_blockâ€:â€fadeInâ€,â€post_headerâ€:â€slideDownInâ€,â€post_bodyâ€:â€slideDownInâ€,â€coll_headerâ€:â€slideLeftInâ€,â€sidebarâ€:â€slideUpInâ€}}, algolia: { applicationID: â€˜â€™, apiKey: â€˜â€™, indexName: â€˜â€™, hits: {â€œper_pageâ€:10}, labels: {â€œinput_placeholderâ€:â€Search for Postsâ€,â€hits_emptyâ€:â€We didnâ€™t find any results for the search: ${query}â€,â€hits_statsâ€:â€${hits} results found in ${time} msâ€} } }; CONFIG.page = { sidebar: â€œâ€, }; GuideFourthW .use-motion .motion-element, .use-motion .brand, .use-motion .menu-item, .sidebar-inner, .use-motion .post-block, .use-motion .pagination, .use-motion .comments, .use-motion .post-header, .use-motion .post-body, .use-motion .collection-title { opacity: initial; } .use-motion .logo, .use-motion .site-title, .use-motion .site-subtitle { opacity: initial; top: initial; } .use-motion .logo-line-before i { left: initial; } .use-motion .logo-line-after i { right: initial; } GuideFourthW Computers Essay Dynamic Share Guestbook Sitemap Suche ç«žçŒœMä¸²Nè®¡ç®— VerÃ¶ffentlicht am 2019-08-18 Bearbeitet am 2019-10-13 in Computers Kommentare: Aufrufe: æœ€è¿‘çš„å·¥ä½œä¸­æ¶‰åŠåˆ°ç«žå½©ç½‘ç«™çš„æŠ•æ³¨é‡‘é¢å’Œç»„åˆè®¡ç®—ï¼Œè€—è´¹äº†ä¸€ç•ªæ—¶é—´è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åœ¨æ­¤åˆ†äº«ä¸€ä¸‹è‡ªå·±çš„çœ‹æ³•(æœ¬æ–‡é‡‡ç”¨çš„æ˜¯æ¾³å®¢çš„èµ›äº‹é€‰æ‹©æ”¯æŒå¤šç§çŽ©æ³•ï¼Œç«žå½©å®˜ç½‘å¹¶ä¸æ”¯æŒå¤šç§çŽ©æ³•é€‰æ‹©)è“è‰²åŒºåŸŸå·¦ä¾§æ˜¯èƒœå¹³è´ŸçŽ©æ³•ï¼Œå³ä¾§æ˜¯è®©çƒèƒœå¹³è´ŸçŽ©æ³•ã€‚è¶³çƒä¸€å…±æœ‰5ç§çŽ©æ³• ï¼Œç¯®çƒæœ‰4ç§çŽ©æ³•ï¼Œè®¡ç®—è§„åˆ™ç›¸åŒã€‚åº•éƒ¨çº¢æ¡†ï¼Œå·¦ä¾§æ˜¯è¿‡å…³æ–¹å¼(å¯å åŠ ,æ— å†²çª)ï¼Œå³ä¾§æ˜¯è®¡ç®—çš„é‡‘é¢(æ³¨æ•° 2 å€æ•°)ï¼Œä»¥åŠæœ€é«˜å¥–é‡‘æ˜¾ç¤ºã€‚è¿‡å…³æ–¹å¼ï¼šå°†måœºæ¯”èµ›ç»„æˆnæ³¨ã€‚è¿‡å…³æ–¹å¼æœ‰ä¸¤ç§æƒ…å†µâ€‹ 1:mä¸²1(2ä¸²1,3ä¸²1,4ä¸²1,5ä¸²1ä»¥æ­¤ç±»æŽ¨ï¼Œæœ€å¤š8ä¸²1)â€‹ 2:mä¸²n(3ä¸²3,3ä¸²4,4ä¸²4,4ä¸²5,4ä¸²6,4ä¸²11 æœ€å¤š8ä¸²247) æ³¨æ„ åªæœ‰n=1 æˆ– n&gt;=m æœ¬æ–‡é‡‡ç”¨é€’å½’æ¥è®¡ç®—æŽ’åˆ—ç»„åˆï¼Œå¹¶æ ¹æ®ç«žå½©ç½‘è§„åˆ™è¿›è¡Œè¿‡æ»¤ã€‚mä¸²1ï¼šæ‰€æœ‰é€‰æ‹©ä¸­æ‰¾mä¸ªç»„æˆä¸€ä¸ªç»„åˆï¼Œmä¸²n å…ˆæ‰¾mä¸²1ï¼Œåœ¨æŠŠæŠŠæ¯ä¸ªç»„åˆéåŽ†è®¡ç®— è¯¥çŽ©æ³•æ‰€å¯¹åº”çš„ä¸²1ç»„åˆè§„åˆ™ï¼šç»„åˆä¸­ä¸å…è®¸å‡ºçŽ°åŒåœºæ¯”èµ›å¤šé€‰ï¼Œä»¥åŠåŒç§çŽ©æ³•è¿›è¡Œçš„ç»„åˆä¸å…è®¸é‡å¤ä¸å…è®¸å‡ºçŽ°åŒåœºæ¯”èµ›å¤šé€‰(æ¯”å¦‚å‡ºçŽ°12,123)ã€Œâ€‹ åŽ»æŽ‰æŽ’åˆ—ç»„åˆé‡Œç›¸åŒæ¯”èµ›çš„(æ ¹æ®æ¯”èµ›ç¼–å·æ ‡è®°) ã€åŒç§çŽ©æ³•ä¸å…è®¸é‡å¤(é‡å¤ç»„åˆçš„äº§ç”ŸåŽŸå› ï¼šåŒ¹é…å‡ºä¸å«æŸä¸ªé€‰æ‹©çš„ç»„åˆ 15 19 59 )ã€Œâ€‹ çŽ©æ³•é¦–é€‰çš„æŽ’åˆ—ç»„åˆä¸éœ€è¦åŽ»ï¼ŒçŽ©æ³•ä¸‹å…¶ä»–çš„æŽ’åˆ—ç»„åˆéœ€è¦å’ŒçŽ©æ³•é¦–é€‰çš„æŽ’åˆ—ç»„åˆåŽ»ï¼ˆå³æŽ’åˆ—ç»„åˆä¸­å¦‚å­˜åœ¨åŽ»é‡å¤æ ‡è®°ï¼Œæ ¹æ®é‡å¤çš„äº§ç”ŸåŽŸå›  å°†å®Œå…¨ä¸å«åŽ»é‡å¤æ ‡è®°çš„ç»„åˆåŽ»æŽ‰ï¼‰ ã€ï¼ˆçŽ©æ³•æŒ‡ä¸€åœºæ¯”èµ›é‡Œçš„ä¸€ä¸ªçŽ©æ³•ï¼‰ï¼ˆæ¯”èµ›ç¼–å·æ ‡è®°ï¼šä¸€åœºæ¯”èµ›ä¸‹çš„é€‰æ‹©éƒ½æ‰“ä¸Šæ¯”èµ›å”¯ä¸€æ ‡è¯†)ï¼ˆåŽ»é‡å¤æ ‡è®°ï¼šä¸æ˜¯çŽ©æ³•çš„é¦–é€‰æ‹©éƒ½ä½¿ç”¨æ ‡è®°ï¼Œå› å…¶æŽ’åˆ—ç»„åˆå¿…ç„¶äº§ç”Ÿé‡å¤ï¼‰ç¤ºä¾‹ï¼š 3spfA é¹¿å²›é¹¿è§’èƒœå¹³è´ŸçŽ©æ³•èƒœé€‰æ‹© 1spfA é¹¿å²›é¹¿è§’èƒœå¹³è´ŸçŽ©æ³•å¹³é€‰æ‹©æ¡ˆä¾‹ä»£ç å°†æ•°æ®è¿‡æ»¤æˆéœ€è¦çš„æ ‡è®°æ ¼å¼ï¼Œæœ¬ä¾‹å‰ç«¯ä¼ è¾“çš„æ ¼å¼ä¸º 20190930001-3~spf^2.21(æ¯”èµ›åŽå°ç¼–å·-èƒœ~èƒœå¹³è´ŸçŽ©æ³•^èµ”çŽ‡)æ¯”èµ›ç¼–å·+èµ”çŽ‡ç”¨äºŽå¥–é‡‘è®¡ç®— Â·Â·123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235 public static void main(String[] args) &#123; String info = â€œ20190930001-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930002-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4â€ + â€œ.95|20190930003-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930004-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4â€ + â€œ.95|20190930005-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930006-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4â€ + â€œ.95|20190930007-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95|20190930008-3~spf^2.21,1~spf^2.21,403~rq^4.95,401~rq^4.95â€;// String info = â€œ20190930001-3~spf^2.21,403~rq^4.95,401~rq^4.95|20190930002-3~spf^2.21|20190930003-3~spf^2.21â€; FootballTicketImpl footballTicketImpl = new FootballTicketImpl(); List&lt;String&gt; passTypes = new ArrayList&lt;&gt;();// passTypes.add(â€œ2_1â€);passTypes.add(â€œ3_1â€);passTypes.add(â€œ4_1â€);// passTypes.add(â€œ5_1â€);passTypes.add(â€œ6_1â€);// passTypes.add(â€œ2_1â€);passTypes.add(â€œ3_1â€);passTypes.add(â€œ4_1â€);// passTypes.add(â€œ5_1â€);passTypes.add(â€œ6_1â€); passTypes.add(â€œ8_247â€); Instant inst1 = Instant.now();// List&lt;LotOrderTicket&gt; ticketList = footballTicketImpl.ticketHandle(new OutTicketDTO(1231L, 23, 10059, 1, info,// passTypes));// System.out.println(ticketList.size());// for (LotOrderTicket temp:ticketList) &#123;// System.out.println(temp.toString());// &#125; // å¾—å‡ºæ€»æ³¨æ•° System.out.println(footballTicketImpl.getPourHandle(info, passTypes)); Instant inst2 = Instant.now(); System.out.println(â€œä»¥æ¯«ç§’è®¡çš„æ—¶é—´å·®ï¼šâ€ + Duration.between(inst1, inst2).toMillis()); System.out.println(â€œä»¥ç§’è®¡çš„æ—¶é—´å·®ï¼šâ€ + Duration.between(inst1, inst2).getSeconds()); &#125; / ã€ @param info ä¸‹æ³¨ä¿¡æ¯ @param passTypes è¿‡å…³æ–¹å¼ @return Mä¸²1æˆ–è€…Mä¸²Næœ‰å‡ ç§ç»„åˆï¼ˆå‡ æ³¨ï¼‰ / @Override public int getPourHandle(String info, List&lt;String&gt; passTypes) &#123; List&lt;String&gt; result = new ArrayList&lt;&gt;(); for (String passType : passTypes) &#123; String[] mWithn = passType.split(â€œâ€œ); Integer m = Integer.parseInt(mWithn[0]); Integer n = Integer.parseInt(mWithn[1]); ArrayList&lt;String&gt; temp = matchTransform(info, m, null, 0); if (temp == null) &#123; return 0; &#125; String[] bet = temp.toArray(new String[temp.size()]); ArrayList&lt;String&gt; tmpArr = new ArrayList&lt;&gt;(); Map&lt;String, String&gt; checkGroups = new Hashtable&lt;&gt;(); ArrayList&lt;String&gt; groups = new ArrayList&lt;&gt;(); combine(0, m, bet, false, checkGroups, tmpArr, groups); ArrayList&lt;String&gt; processGroups = new ArrayList&lt;&gt;(); processGroups.addAll(groups); if (n &gt; 1) &#123; //è¿›å…¥Mä¸²N groups.clear(); passType = passType.replace(â€œâ€œ, â€œä¸²â€); for (String match : processGroups) &#123; match = match.substring(1, match.length() - 1); String[] CalculateN = match.split(â€œ,â€); String[] a = splitFrom.get(passType); for (int i = 0; i &lt; a.length; i++) &#123; if (appearNumber(Arrays.toString(CalculateN), â€œ\*â€) == CalculateN.length) &#123;// ä¸éœ€è¦åŽ»é‡å¤ combine(0, Integer.valueOf(String.valueOf(a[i].charAt(0))), CalculateN, false, checkGroups, new ArrayList&lt;String&gt;(), groups); &#125; else &#123;// éœ€è¦åŽ»é‡å¤ combine(0, Integer.valueOf(String.valueOf(a[i].charAt(0))), CalculateN, true, checkGroups, new ArrayList&lt;String&gt;(), groups); &#125; i++; &#125; &#125; processGroups.clear(); processGroups.addAll(groups); &#125; result.addAll(processGroups); &#125; return result.size(); &#125; / é€’å½’è®¡ç®—æŽ’åˆ—ç»„åˆ @param index å•ç»„åˆä¸­å·²ç»ç´¯ç§¯çš„å…ƒç´  @param k ä¸€ä¸ªç»„åˆéœ€è¦å‡ ä¸ªå…ƒç´ ç»„æˆ @param arr æº @param checkGroups ä¸å«é‡å¤çš„æŽ’åˆ—ç»„åˆåˆ—è¡¨(å…ˆåŽ»æŽ‰æ­¤æ ¡éªŒï¼Œå¦‚è¿è¡Œä¸€æ®µæ—¶é—´æ— å¦¨ åˆ™å½»åº•åŽ»é™¤å®ƒ) @param tmpArr æœ¬æ¬¡ç»„æˆçš„æŽ’åˆ—ç»„åˆ @param groups ä¸€ç§è¿‡å…³æ–¹å¼çš„ç»“æžœ / public static void combine(int index, int k, String[] arr, boolean repeat, Map&lt;String, String&gt; checkGroups, ArrayList&lt;String&gt; tmpArr, ArrayList&lt;String&gt; groups) &#123; if (k == 1) &#123; for (int i = index; i &lt; arr.length; i++) &#123; tmpArr.add(arr[i]); String isAdd = â€œaddâ€; if (repeat) &#123; // isAdd = toRepeat(arr, checkGroups, tmpArr, isAdd); &#125; else &#123; Map&lt;String, String&gt; map = new Hashtable&lt;&gt;(); String tmpStr = tmpArr.toString(); String[] tmpArray = tmpStr.substring(0, tmpStr.length() - 1).split(â€œ,â€); for (String temp : tmpArray) &#123; //æˆªå–å‡ºç»„åˆä¸­æœ€åŽä¸€ä¸ªçš„æ¯”èµ›ç¼–å·å”¯ä¸€æ ‡è¯†å­˜å…¥é›†åˆ String matchCode = String.valueOf(temp.charAt(temp.length() - 1)); //å¦‚å·²åŒ…å« åˆ™è¡¨ç¤ºæŽ’åˆ—ç»„åˆæ‹¥æœ‰ç›¸åŒæ¯”èµ› ä¸å…æ·»åŠ  if (map.get(matchCode) != null) &#123; isAdd = â€œâ€; break; &#125; //Valueæ— ç”¨ï¼Œåªç”¨Keyå’ŒHASHç‰¹æ€§ map.put(matchCode, matchCode); &#125; &#125; if (isAdd.equals(â€œaddâ€)) &#123;// checkGroups.put(tmpArr.toString().replaceAll(â€œ\â€œ,â€â€),tmpArr.toString().trim()); groups.add(tmpArr.toString()); &#125; for (Iterator it = tmpArr.iterator(); it.hasNext(); ) &#123; if (it.next().equals(arr[i])) it.remove(); &#125; &#125; &#125; else if (k &gt; 1) &#123; for (int i = index; i &lt;= arr.length - k; i++) &#123; tmpArr.add(arr[i]); combine(i + 1, k - 1, arr, repeat, checkGroups, tmpArr, groups); for (Iterator it = tmpArr.iterator(); it.hasNext(); ) &#123; if (it.next().equals(arr[i])) it.remove(); &#125; &#125; &#125; else &#123; return; &#125; &#125;/ åŽ»é™¤é‡å¤ç»„åˆ(åŒç§çŽ©æ³•ä¸å…è®¸é‡å¤) @param arr é€‰æ‹©çš„å†…å®¹ @param checkGroups ä¸å«é‡å¤çš„æŽ’åˆ—ç»„åˆåˆ—è¡¨(å…ˆåŽ»æŽ‰æ­¤æ ¡éªŒï¼Œå¦‚è¿è¡Œä¸€æ®µæ—¶é—´æ— å¦¨ åˆ™å½»åº•åŽ»é™¤å®ƒ) @param tmpArr æœ¬æ¬¡ç»„æˆçš„æŽ’åˆ—ç»„åˆ @param isAdd æ˜¯å¦èƒ½å¤Ÿæ·»åŠ  @return / public static String toRepeat(String[] arr, Map&lt;String, String&gt; checkGroups, ArrayList&lt;String&gt; tmpArr, String isAdd) &#123; String b = tmpArr.toString().replaceAll(â€œ\â€œ, â€œâ€); //åŽ»æŽ‰å®Œå…¨ä¸å«åŽ»é‡å¤æ ‡è®°çš„ç»„åˆ for (int j = 0; j &lt; arr.length; j++) &#123; if (arr[j].indexOf(â€œâ€œ) == -1) &#123; if (!tmpArr.toString().contains(arr[j])) &#123;// if (checkGroups.get(b.trim())!=null)&#123; isAdd = â€œâ€; return isAdd;// &#125; &#125; &#125; &#125; return isAdd; &#125; / @param schemeNumber ä¸‹æ³¨ä¿¡æ¯ @param m è¦æ±‚ç»„çš„æ¯”èµ›æ•° @param matchNumber å®žä½“ç±»æ˜ å°„å‚ç…§ï¼ˆ0ï¼šåªè®¡ç®—æ³¨æ•°ï¼Œä¸éœ€è¦æ˜ å°„ã€‚1ï¼šä¼ ç¥¨ç»„åˆï¼Œéœ€è¦æ˜ å°„ï¼‰ @param schemeNumber æœªå¤„ç†çš„ä¸‹æ³¨ä¿¡æ¯ @param Type ï¼ˆè®¡ç®—æ³¨æ•°ï¼š0ï¼Œä¼ ç¥¨ç»„åˆï¼š1ï¼‰ @return å¤„ç†åŽçš„ä¸‹æ³¨ä¿¡æ¯ / public static ArrayList&lt;String&gt; matchTransform(String schemeNumber, Integer m, Map&lt;String, String&gt; matchNumber, Integer Type) &#123; ArrayList&lt;String&gt; matchTransform = new ArrayList(); String[] matchs = schemeNumber.split(â€œ\|â€); if (matchs.length &lt; m) &#123; //ä¸æ»¡è¶³ç»„Måœºæ¯”èµ›çš„è¦æ±‚ return null; &#125; for (int j = 0; j &lt; matchs.length; j++) &#123; String match = matchs[j]; String matchArray[] = match.split(â€œ-â€œ); String matchHead = matchArray[0]; String temp = matchArray[1]; String[] matchPlayType = temp.split(â€œ,â€); for (int i = 0; i &lt; matchPlayType.length; i++) &#123; StringBuffer playMethod = new StringBuffer(); StringBuffer matchNumberValue = new StringBuffer(); String symbol = â€œ-â€œ; String[] temp2 = matchPlayType[i].split(â€œ~â€); String[] temp3 = temp2[1].split(â€œ\^â€); String odds = temp3[1]; String playTypePart = temp3[0]; String playType = temp2[0] + playTypePart; int sum = appearNumber(matchTransform.toString(), playTypePart + letter[j]); if (sum == 0) &#123; playMethod.append(â€œâ€œ); &#125; playMethod.append(playType); playMethod.append(letter[j]); matchTransform.add(playMethod.toString()); if (Type == 1) &#123; //key = æ˜¯å¦åŒ…å«é‡å¤é€‰æ‹©,çŽ©æ³•ï¼Œæ¯”èµ›ç¼–å·å”¯ä¸€æ ‡è¯†,value = å¯¹é˜µä¿¡æ¯+çŽ©æ³•ä¸Žèµ”çŽ‡ matchNumberValue.append(matchHead).append(symbol).append(temp2[0]).append(symbol).append(odds); matchNumber.put(playMethod.toString(), matchNumberValue.toString()); &#125; &#125; &#125; return matchTransform; &#125; /* èŽ·å–æŒ‡å®šå­—ç¬¦ä¸²å‡ºçŽ°çš„æ¬¡æ•° @param srcText æºå­—ç¬¦ä¸² @param findText è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸² @return */ public static int appearNumber(String srcText, String findText) &#123; int count = 0; Pattern p = Pattern.compile(findText); Matcher m = p.matcher(srcText); while (m.find()) &#123; count++; &#125; return count; &#125; GuideFourthW 1 Artikel 1 Kategorien 1 schlagwÃ¶rter RSS GitHub Twitter E-Mail æœ¬ç«™æ€»è®¿é—®é‡æ¬¡ åšå®¢å…¨ç«™å…±:0 å­—&copy; 2019 æ¬¢è¿Žæ‚¨çš„åˆ°æ¥ðŸ˜˜ if (Object.prototype.toString.call(window.Promise) !== â€˜[object Function]â€™) { window.Promise = null; } var GUEST = [â€˜nickâ€™, â€˜mailâ€™, â€˜linkâ€™]; var guest = â€˜nick,mail,linkâ€™; guest = guest.split(â€˜,â€™).filter(function(item) { return GUEST.indexOf(item) &gt; -1; }); new Valine({ el: â€˜#commentsâ€™, verify: false, notify: false, appId: â€˜aH9v7REURlcbPru7Eevu2d6H-gzGzoHszâ€™, appKey: â€˜AjzqWMFod38kVoCQ3SecQ4Lrâ€™, placeholder: â€˜Just say it.â€™, avatar: â€˜mmâ€™, meta: guest, pageSize: â€˜10â€™ || 10, visitor: false, lang: â€˜â€™ || â€˜zh-cnâ€™ }); // Popup Window; var isfetched = false; var isXml = true; // Search DB path; var search_path = â€œsearch.xmlâ€; if (search_path.length === 0) { search_path = â€œsearch.xmlâ€; } else if (/json$/i.test(search_path)) { isXml = false; } var path = â€œ/â€œ + search_path; // monitor main search box; var onPopupClose = function (e) { $(â€˜.popupâ€™).hide(); $(â€˜#local-search-inputâ€™).val(â€˜â€™); $(â€˜.search-result-listâ€™).remove(); $(â€˜#no-resultâ€™).remove(); $(â€œ.local-search-pop-overlayâ€).remove(); $(â€˜bodyâ€™).css(â€˜overflowâ€™, â€˜â€™); } function proceedsearch() { $(â€œbodyâ€) .append(â€˜â€˜) .css(â€˜overflowâ€™, â€˜hiddenâ€™); $(â€˜.search-popup-overlayâ€™).click(onPopupClose); $(â€˜.popupâ€™).toggle(); var $localSearchInput = $(â€˜#local-search-inputâ€™); $localSearchInput.attr(â€œautocapitalizeâ€, â€œnoneâ€); $localSearchInput.attr(â€œautocorrectâ€, â€œoffâ€); $localSearchInput.focus(); } // search function; var searchFunc = function(path, search_id, content_id) { â€˜use strictâ€™; // start loading animation $(â€œbodyâ€) .append(â€˜â€˜ + â€˜â€˜ + â€˜â€˜ + â€˜â€˜ + â€˜â€˜) .css(â€˜overflowâ€™, â€˜hiddenâ€™); $(â€œ#search-loading-iconâ€).css(â€˜marginâ€™, â€˜20% auto 0 autoâ€™).css(â€˜text-alignâ€™, â€˜centerâ€™); $.ajax({ url: path, dataType: isXml ? â€œxmlâ€ : â€œjsonâ€, async: true, success: function(res) { // get the contents from search data isfetched = true; $(â€˜.popupâ€™).detach().appendTo(â€˜.header-innerâ€™); var datas = isXml ? $(â€œentryâ€, res).map(function() { return { title: $(â€œtitleâ€, this).text(), content: $(â€œcontentâ€,this).text(), url: $(â€œurlâ€ , this).text() }; }).get() : res; var input = document.getElementById(search_id); var resultContent = document.getElementById(content_id); var inputEventFunction = function() { var searchText = input.value.trim().toLowerCase(); var keywords = searchText.split(/[\s-]+/); if (keywords.length &gt; 1) { keywords.push(searchText); } var resultItems = []; if (searchText.length &gt; 0) { // perform local searching datas.forEach(function(data) { var isMatch = false; var hitCount = 0; var searchTextCount = 0; var title = data.title.trim(); var titleInLowerCase = title.toLowerCase(); var content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,â€â€); var contentInLowerCase = content.toLowerCase(); var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, â€˜/â€˜); var indexOfTitle = []; var indexOfContent = []; // only match articles with not empty titles if(title != â€˜â€™) { keywords.forEach(function(keyword) { function getIndexByWord(word, text, caseSensitive) { var wordLen = word.length; if (wordLen === 0) { return []; } var startPosition = 0, position = [], index = []; if (!caseSensitive) { text = text.toLowerCase(); word = word.toLowerCase(); } while ((position = text.indexOf(word, startPosition)) &gt; -1) { index.push({position: position, word: word}); startPosition = position + wordLen; } return index; } indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false)); indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false)); }); if (indexOfTitle.length &gt; 0 || indexOfContent.length &gt; 0) { isMatch = true; hitCount = indexOfTitle.length + indexOfContent.length; } } // show search results if (isMatch) { // sort index by position of keyword [indexOfTitle, indexOfContent].forEach(function (index) { index.sort(function (itemLeft, itemRight) { if (itemRight.position !== itemLeft.position) { return itemRight.position - itemLeft.position; } else { return itemLeft.word.length - itemRight.word.length; } }); }); // merge hits into slices function mergeIntoSlice(text, start, end, index) { var item = index[index.length - 1]; var position = item.position; var word = item.word; var hits = []; var searchTextCountInSlice = 0; while (position + word.length &lt;= end &amp;&amp; index.length != 0) { if (word === searchText) { searchTextCountInSlice++; } hits.push({position: position, length: word.length}); var wordEnd = position + word.length; // move to next position of hit index.pop(); while (index.length != 0) { item = index[index.length - 1]; position = item.position; word = item.word; if (wordEnd &gt; position) { index.pop(); } else { break; } } } searchTextCount += searchTextCountInSlice; return { hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice }; } var slicesOfTitle = []; if (indexOfTitle.length != 0) { slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle)); } var slicesOfContent = []; while (indexOfContent.length != 0) { var item = indexOfContent[indexOfContent.length - 1]; var position = item.position; var word = item.word; // cut out 100 characters var start = position - 20; var end = position + 80; if(start &lt; 0){ start = 0; } if (end &lt; position + word.length) { end = position + word.length; } if(end &gt; content.length){ end = content.length; } slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent)); } // sort slices in content by search textâ€™s count and hitsâ€™ count slicesOfContent.sort(function (sliceLeft, sliceRight) { if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) { return sliceRight.searchTextCount - sliceLeft.searchTextCount; } else if (sliceLeft.hits.length !== sliceRight.hits.length) { return sliceRight.hits.length - sliceLeft.hits.length; } else { return sliceLeft.start - sliceRight.start; } }); // select top N slices in content var upperBound = parseInt(â€˜1â€™); if (upperBound &gt;= 0) { slicesOfContent = slicesOfContent.slice(0, upperBound); } // highlight title and content function highlightKeyword(text, slice) { var result = â€˜â€™; var prevEnd = slice.start; slice.hits.forEach(function (hit) { result += text.substring(prevEnd, hit.position); var end = hit.position + hit.length; result += â€˜â€˜ + text.substring(hit.position, end) + â€˜â€˜; prevEnd = end; }); result += text.substring(prevEnd, slice.end); return result; } var resultItem = â€˜â€™; if (slicesOfTitle.length != 0) { resultItem += â€œâ€œ + highlightKeyword(title, slicesOfTitle[0]) + â€œâ€œ; } else { resultItem += â€œâ€œ + title + â€œâ€œ; } slicesOfContent.forEach(function (slice) { resultItem += â€œâ€œ + â€œâ€œ + highlightKeyword(content, slice) + â€œâ€¦â€œ + â€œâ€œ; }); resultItem += â€œâ€œ; resultItems.push({ item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length }); } }) }; if (keywords.length === 1 &amp;&amp; keywords[0] === â€œâ€) { resultContent.innerHTML = â€˜â€˜ } else if (resultItems.length === 0) { resultContent.innerHTML = â€˜â€˜ } else { resultItems.sort(function (resultLeft, resultRight) { if (resultLeft.searchTextCount !== resultRight.searchTextCount) { return resultRight.searchTextCount - resultLeft.searchTextCount; } else if (resultLeft.hitCount !== resultRight.hitCount) { return resultRight.hitCount - resultLeft.hitCount; } else { return resultRight.id - resultLeft.id; } }); var searchResultList = â€˜â€˜; resultItems.forEach(function (result) { searchResultList += result.item; }) searchResultList += â€œâ€œ; resultContent.innerHTML = searchResultList; } } if (â€˜autoâ€™ === â€˜autoâ€™) { input.addEventListener(â€˜inputâ€™, inputEventFunction); } else { $(â€˜.search-iconâ€™).click(inputEventFunction); input.addEventListener(â€˜keypressâ€™, function (event) { if (event.keyCode === 13) { inputEventFunction(); } }); } // remove loading animation $(â€œ.local-search-pop-overlayâ€).remove(); $(â€˜bodyâ€™).css(â€˜overflowâ€™, â€˜â€™); proceedsearch(); } }); } // handle and trigger popup window; $(â€˜.popup-triggerâ€™).click(function(e) { e.stopPropagation(); if (isfetched === false) { searchFunc(path, â€˜local-search-inputâ€™, â€˜local-search-resultâ€™); } else { proceedsearch(); }; }); $(â€˜.popup-btn-closeâ€™).click(onPopupClose); $(â€˜.popupâ€™).click(function(e){ e.stopPropagation(); }); $(document).on(â€˜keyupâ€™, function (event) { var shouldDismissSearchPopup = event.which === 27 &amp;&amp; $(â€˜.search-popupâ€™).is(â€˜:visibleâ€™); if (shouldDismissSearchPopup) { onPopupClose(); } }); function showTime(Counter) { var entries = []; var $visitors = $(â€˜.leancloud_visitorsâ€™); $visitors.each(function() { entries.push( $(this).attr(â€˜idâ€™).trim() ); }); Counter(â€˜getâ€™, â€˜/classes/Counterâ€™, { where: JSON.stringify({ url: { â€˜$inâ€™: entries } }) }) .done(function({ results }) { var COUNT_CONTAINER_REF = â€˜.leancloud-visitors-countâ€™; if (results.length === 0) { $visitors.find(COUNT_CONTAINER_REF).text(0); return; } for (var i = 0; i &lt; results.length; i++) { var item = results[i]; var url = item.url; var time = item.time; var element = document.getElementById(url); $(element).find(COUNT_CONTAINER_REF).text(time); } for (var i = 0; i &lt; entries.length; i++) { var url = entries[i]; var element = document.getElementById(url); var countSpan = $(element).find(COUNT_CONTAINER_REF); if (countSpan.text() == â€˜â€™) { countSpan.text(0); } } }) .fail(function ({ responseJSON }) { console.log(â€˜LeanCloud Counter Error: â€˜ + responseJSON.code + â€˜ â€˜ + responseJSON.error); }); } $(function() { $.get(â€˜https://app-router.leancloud.cn/2/route?appId=&#39; + â€˜aH9v7REURlcbPru7Eevu2d6H-gzGzoHszâ€™) .done(function({ api_server }) { var Counter = function(method, url, data) { return $.ajax({ method: method, url: â€˜https://â€˜ + api_server + â€˜/1.1â€™ + url, headers: { â€˜X-LC-Idâ€™: â€˜aH9v7REURlcbPru7Eevu2d6H-gzGzoHszâ€™, â€˜X-LC-Keyâ€™: â€˜AjzqWMFod38kVoCQ3SecQ4Lrâ€™, â€˜Content-Typeâ€™: â€˜application/jsonâ€™, }, data: data }); }; if ($(â€˜.post-title-linkâ€™).length &gt;= 1) { showTime(Counter); } }); });]]></content>
  </entry>
</search>
